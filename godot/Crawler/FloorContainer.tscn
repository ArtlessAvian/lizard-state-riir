[gd_scene load_steps=10 format=3 uid="uid://d00xpnofgcnrt"]

[ext_resource type="Script" path="res://Crawler/FloorContainer.gd" id="1_6nk2a"]
[ext_resource type="PackedScene" uid="uid://1ug7wykfxdyt" path="res://Crawler/FloorView/FloorView.tscn" id="2_1cpv2"]
[ext_resource type="Texture2D" uid="uid://c4xd5itrnko1v" path="res://smol_star.png" id="3_87haf"]
[ext_resource type="PackedScene" uid="uid://dykg3353qu8wv" path="res://Crawler/MVP-Scaled.tscn" id="4_bjt5q"]
[ext_resource type="FontFile" uid="uid://buoxia56m66ya" path="res://Dogica/dogicapixel.otf" id="5_ueg1a"]
[ext_resource type="Script" path="res://Crawler/Controller/MainState.gd" id="6_y1y50"]
[ext_resource type="Script" path="res://Crawler/Controller/AimTileActionState.gd" id="7_6t5nc"]
[ext_resource type="Script" path="res://Crawler/Controller/AimDirectionActionState.gd" id="8_8crxy"]

[sub_resource type="Theme" id="Theme_nvbww"]
default_font = ExtResource("5_ueg1a")

[node name="FloorContainer" type="Node3D"]
script = ExtResource("1_6nk2a")

[node name="Floor" parent="." instance=ExtResource("2_1cpv2")]

[node name="Cursor" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.5, 0, 0.01, 0)
pixel_size = 0.0417
axis = 1
texture_filter = 0
texture = ExtResource("3_87haf")

[node name="Map" parent="." instance=ExtResource("4_bjt5q")]

[node name="Popup" type="Popup" parent="."]
position = Vector2i(30, 30)
visible = true

[node name="MenuBar" type="PopupMenu" parent="Popup"]
position = Vector2i(10, 30)
size = Vector2i(200, 200)
visible = true
theme = SubResource("Theme_nvbww")
theme_override_constants/v_separation = 12
theme_override_font_sizes/font_size = 16
item_count = 2
item_0/text = "Test Item"
item_0/id = 0
item_1/text = "Another Item"
item_1/id = 1

[node name="InputStates" type="Node" parent="."]
editor_description = "A (mostly) static tree. No children are added dynamically.
Each path down the tree is its own flow. Children may be duplicated between paths, but that's fine.
For now only responsible for player turns, not turntaking. (unless?) (turntaking is handled by the Crawler ig.)"

[node name="Main" type="Node" parent="InputStates"]
script = ExtResource("6_y1y50")

[node name="AimTileAction" type="Node" parent="InputStates/Main"]
script = ExtResource("7_6t5nc")

[node name="AimDirectionAction" type="Node" parent="InputStates/Main"]
script = ExtResource("8_8crxy")

[connection signal="floor_dirtied" from="." to="Floor" method="_on_floor_container_floor_dirtied"]
